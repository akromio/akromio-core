use (
  alias://expected
  {simulator} = alias://doubles
  {GlobalDataset} = alias://dataset
  {Runner, PluginParser} = alias://core
  {JobEngine as Engine} = ~
)

suite(__filename, proc()
  suite("constructor", proc()
    test("when instantiated, built-in plugins must be loaded", proc()
      # (1) act
      const (
        out = Engine(
          name = "jobs"
          dataset = GlobalDataset(name = "global")
          onError = "carryOn"
          pluginParser = PluginParser()
          runner = Runner(log = simulator.stream.duplex())
        )
      )

      # (2) assessment
      expected(out)\
        .toBe(Engine)\
        .member("ops.ops").toHaveLen(0)
    end)
  end)
end)