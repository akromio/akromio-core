use (
  alias://expected
  {sim} = alias://doubles
  SleepStarter, StarterState
)

suite(__filename, proc()

  suite("generateBlankSheets()", proc()
    test("when called, nothing must be added to the stream", async proc()
      # (1) act
      const (
        opts = {interval = 100, times = 5, output = sim.stream.duplex()}
        starter = SleepStarter(opts).start()
      )

      await(sleep("1s"))

      # (2) assessment
      expected(starter).toHave(state = StarterState.stopped, iterations = 5)
    end)
  end)
end)
